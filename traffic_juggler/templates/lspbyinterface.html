{% block lspbyinterface %}
<table class="table table-condensed table-hover">
  {% for interface in interfaces %}
  <thead>
  {% if interface['speed'] == "Unspecified" %}
    <tr class="bg-danger text-danger">
  {% else %}
    <tr class="bg-primary">
  {% endif %}
    <th>{{ interface['name'] }}</th>
    <th>{{ interface['description'] }}</th>
    <th>{{ interface['speed'] }}</th>
    <th>{{ interface['output_gbps'] }}Gbps</th>
<th>
    <div class="progress">
      <div data-percentage="0%" style="width: {{ interface['utilization'] }}%" class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100">
    </div>
    <span class="text-success">{{ interface['utilization'] }}%</span>
    </div>

  </th>

    <th class="hidden-xs hidden-sm">RSVP: {{ interface['rsvpout'] }}</th>
    <th class="hidden-xs hidden-sm">LDP: {{ interface['ldpout'] }}</th>
  </tr>
  </thead>
      <tbody class="collapse in">
          {% for lsp in interface['lsplist']%}
            {% if lsp['state'] == 'Dn' %}
              <tr class="danger">
            {% elif lsp['state'] == 'Inactive' %}
              <tr class="info">
            {% else %}
              <tr>
            {% endif %}
            <td>{{ lsp['state'] }}</td>
            <td>{{ lsp['name'] }}</td>
            <td>{{ lsp['bandwidth'] }}m</td>

            {% if lsp['output_gbps'] != None %}
              <td>{{ lsp['output_gbps'] }}Gbps</td>
            {% elif lsp['state'] == 'Up' %}
              <td>~{{ lsp['output_calculated_gpbs'] }}Gbps</td>
            {% else %}
              <td>{{ lsp['output_gbps'] }}</td>
            {% endif %}

            {% if lsp['rbandwidth'] != 'None' %}
              <td>{{ lsp['rbandwidth'] }}Mbps/m</td>
            {% elif lsp['state'] == 'Up' %}
              <td>~{{ lsp['rbandwidth_calculated'] }}Mbps/m</td>
            {% else %}
              <td>{{ lsp['rbandwidth'] }}</td>
            {% endif %}

            <td class="hidden-xs hidden-sm">to {{ lsp['to_name'] }}</td>
            <td class="hidden-xs hidden-sm">{{ lsp['path_formatted'] }}</td>
            </tr>
          {% endfor %}
      </tbody>
  <tr><td></td></tr>
  {% endfor %}
</table>
{% endblock %}
